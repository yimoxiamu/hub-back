<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hub.hubback.dao.BlogMainMapper">
    <resultMap id="BaseResultMap" type="com.hub.hubback.entity.BlogMainEntity">
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="blog_text" property="blog_text" jdbcType="VARCHAR"/>
        <result column="blog_img" property="blog_img" jdbcType="VARCHAR"/>
        <result column="insert_time" property="insert_time" jdbcType="DATE"/>
        <result column="update_time" property="update_time" jdbcType="DATE"/>
        <result column="read_count" property="read_count" jdbcType="INTEGER"/>
        <result column="like_count" property="like_count" jdbcType="INTEGER"/>
        <result column="blog_title" property="blog_title" jdbcType="VARCHAR"/>
        <result column="blog_auth" property="blog_auth" jdbcType="VARCHAR"/>
        <association property="blogTypeEntity" javaType="com.hub.hubback.entity.BlogTypeEntity" column="type_id">
            <id column="btid" property="id" jdbcType="INTEGER"/>
            <result column="blog_type" property="blog_type" jdbcType="VARCHAR"/>
            <result column="count" property="count" jdbcType="INTEGER"></result>
        </association>
    </resultMap>
    <select id="test" resultMap="BaseResultMap">
        select
         bm.id,
         bm.blog_text,
         bm.type_id,
         bm.blog_img,
         bm.insert_time,
         bm.update_time,
         bm.read_count,
         bm.like_count,
         bm.blog_title,
         bm.blog_auth,
         bt.id as "btid",
         bt.blog_type,
         bt.count
         from
         blog_main bm
         left join t_type bt ON bm.type_id=bt.id
    </select>
</mapper>